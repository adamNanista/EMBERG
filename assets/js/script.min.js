window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)});var overlay=document.querySelector(".overlay"),ToggleHeader=function(){var e={},t=1;function o(){e.header&&window.addEventListener("scroll",function(){(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)>t?e.header.classList.add("scrolled"):e.header.classList.remove("scrolled")})}return{init:function(){e.header=document.querySelector(".header"),o()}}}(),ToggleComponent=function(){var e={};function t(t){TogglePopUp.destroy();var n="true"===t.module.getAttribute("data-toggle");e.cart.toggle&&e.cart.module&&o(e.cart),e.menu.toggle&&e.menu.module&&o(e.menu),n&&function(e){e.toggle.classList.add("open"),e.module.classList.remove("hidden"),e.module.setAttribute("data-toggle","false"),overlay.classList.remove("hidden")}(t)}function o(e){e.toggle.classList.remove("open"),e.module.classList.add("hidden"),e.module.setAttribute("data-toggle","true"),overlay.classList.add("hidden")}return{init:function(){e.menu={toggle:document.querySelector(".header__icon--menu"),module:document.querySelector(".menu")},e.cart={toggle:document.querySelector(".header__icon--cart"),module:document.querySelector(".cart")},e.closeCart=document.querySelector(".js--close__cart"),e.overlay=document.querySelector(".overlay"),e.menu.toggle&&e.menu.toggle.addEventListener("click",function(o){o.preventDefault(),t(e.menu)}),e.cart.toggle&&e.cart.toggle.addEventListener("click",function(o){o.preventDefault(),t(e.cart)}),e.overlay&&e.overlay.addEventListener("click",function(t){t.preventDefault(),e.cart.toggle&&e.cart.module&&o(e.cart),e.menu.toggle&&e.menu.module&&o(e.menu)}),e.closeCart&&e.closeCart.addEventListener("click",function(t){t.preventDefault(),o(e.cart)})}}}(),TogglePopUp=function(){var e={};function t(){e.suhlas.toggle&&e.suhlas.toggle.addEventListener("click",function(t){t.preventDefault(),e.suhlas.popup.classList.remove("hidden"),overlay.classList.remove("hidden")}),e.suhlas.close&&e.suhlas.close.addEventListener("click",function(t){t.preventDefault(),o(e.suhlas.popup)}),e.suhlas.btn&&e.suhlas.btn.addEventListener("click",function(t){t.preventDefault(),o(e.suhlas.popup)}),e.overlay&&e.overlay.addEventListener("click",function(t){t.preventDefault(),o(e.suhlas.popup)})}function o(e){e.classList.add("hidden"),overlay.classList.add("hidden")}return{init:function(){e.suhlas={toggle:document.querySelector(".popup__toggle--suhlas"),popup:document.querySelector("#suhlas"),close:document.querySelector("#suhlas .popup__close"),btn:document.querySelector("#suhlas .popup__btn")},e.overlay=document.querySelector(".popup__container"),t()},destroy:function(){e.suhlas.popup&&o(e.suhlas.popup)}}}(),ShowProducts=function(){var e={};function t(t){var n=t.getAttribute("data-target"),r=document.querySelector("#"+n);"true"===r.getAttribute("data-collapsed")?(t.classList.add("open"),window.matchMedia("(min-width: 1300px)").matches?function(t,o){for(var n=0;n<e.sections.length;n++)e.sections[n]!==t&&(e.sections[n].classList.remove("open"),e.sections[n].setAttribute("data-collapsed","true"));for(var n=0;n<e.tabs.length;n++)e.tabs[n]!==o&&e.tabs[n].classList.remove("open");t.classList.add("open")}(r,t):o(r)):window.matchMedia("(min-width: 1300px)").matches||(t.classList.remove("open"),function(e){var t=e.scrollHeight,o=e.style.transition;e.style.transition="",requestAnimationFrame(function(){e.style.height=t+"px",e.style.transition=o,requestAnimationFrame(function(){e.style.height="0px"})}),e.setAttribute("data-collapsed","true"),e.classList.remove("open")}(r),r.setAttribute("data-collapsed","true"))}function o(e){var t=e.scrollHeight;e.style.height=t+"px",e.addEventListener("transitionend",function(t){e.removeEventListener("transitionend",arguments.callee),e.style.height=null}),e.setAttribute("data-collapsed","false"),e.classList.add("open")}return{init:function(){e.tabs=document.querySelectorAll(".tab"),e.sections=document.querySelectorAll(".product__collapse"),function(){if(e.tabs.length){for(var n=0;n<e.tabs.length;n++)e.tabs[n].addEventListener("click",function(e){e.preventDefault(),t(this)});if(window.matchMedia("(min-width: 1300px)").matches){var r=document.querySelector(".tab--yellow"),a=document.querySelector("#yellow");r.classList.add("open"),o(a)}}}()}}}(),AddProductToCart=function(){var e={};function t(t){t.classList.contains("product--added")?t.classList.remove("product--added"):(t.classList.add("product--added"),function(t){var o={heading:t.getAttribute("data-cartheading"),level:t.getAttribute("data-cartlevel"),price:t.getAttribute("data-cartprice"),color:t.getAttribute("data-color")},n='<span class="cartproduct__heading medium">'+o.heading+'</span><span class="cartproduct__level cartproduct__level--'+o.color+' small bold">'+o.level+'</span><a href="#" class="cartproduct__remove .js--remove__cartproduct"></a><span class="cartproduct__price large bold">'+o.price+" €</span>",r=document.createElement("div");r.classList.add("cartproduct","trn"),r.innerHTML=n,e.cartProductArea?e.cartProductArea.appendChild(r):(e.cartProductArea=document.createElement("div"),e.cartProductArea.classList.add("cartproduct__area"),document.querySelector(".cartproduct__wrap").appendChild(e.cartProductArea),e.cartProductArea.appendChild(r))}(t))}function o(e){var t=e.getBoundingClientRect(),o=e.scrollWidth,n=e.cloneNode(!0);n.classList.add("fly__to__cart"),n.style.right=document.body.clientWidth-t.right+"px",n.style.top=t.top+"px",n.style.width=o+"px",document.querySelector("body").appendChild(n),setTimeout(function(){document.querySelector("body").removeChild(n)},1e3)}function n(e){e.parentNode.removeChild(e)}return{init:function(){e.buttons=document.querySelectorAll(".js__btn--add"),e.cartProductArea=document.querySelector(".cartproduct__area"),e.cartToggle=document.querySelector(".js--cart__toggle"),e.removeCartProduct=document.querySelectorAll(".js--remove__cartproduct"),function(){if(e.buttons.length)for(var r=0;r<e.buttons.length;r++)e.buttons[r].addEventListener("click",function(n){n.preventDefault();var r,a=this.parentNode.parentNode;(r=this).classList.contains("btn--added")?(r.classList.remove("btn--added"),r.innerHTML="Pridať do košíka"):(r.classList.add("btn--added"),r.innerHTML="Odstrániť z košíka"),t(a),o(a),e.cartToggle&&(e.cartToggle.classList.add("header__icon--cart--full"),e.cartToggle.classList.add("header__icon--cart--shake"),setTimeout(function(){e.cartToggle.classList.remove("header__icon--cart--shake")},1300))});if(document.addEventListener("click",function(e){e.target.classList.contains("cartproduct__remove")&&(e.preventDefault(),n(e.target.parentNode))}),e.removeCartProduct.length)for(r=0;r<e.removeCartProduct.length;r++)e.removeCartProduct[r].addEventListener("click",function(e){e.preventDefault(),n(this)})}()}}}();ToggleHeader.init(),ToggleComponent.init(),TogglePopUp.init(),ShowProducts.init(),AddProductToCart.init();
