window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),function(){var e=document.querySelector(".header"),t=1;e&&window.addEventListener("scroll",function(o){(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)>t?e.classList.add("scrolled"):e.classList.remove("scrolled")});var o=document.querySelector(".overlay"),n=document.querySelector(".close__cart"),l={toggle:document.querySelector(".header__icon--menu"),module:document.querySelector(".menu"),toggle__module:function(e){e.preventDefault(),i.module&&s(i),h.popup&&f(h),"true"===this.module.getAttribute("data-toggle")?d(this):s(this)}},i={toggle:document.querySelector(".header__icon--cart"),module:document.querySelector(".cart"),toggle__module:function(e){e.preventDefault(),l.module&&s(l),h.popup&&f(h),"true"===this.module.getAttribute("data-toggle")?d(this):s(this)}};function s(e){e.toggle.classList.remove("open"),e.module.classList.add("hidden"),e.module.setAttribute("data-toggle","true"),o.classList.add("hidden")}function d(e){e.toggle.classList.add("open"),e.module.classList.remove("hidden"),e.module.setAttribute("data-toggle","false"),o.classList.remove("hidden")}o.addEventListener("click",function(e){s(l),s(i)}),n&&n.addEventListener("click",function(e){e.preventDefault(),s(i)}),l.module&&l.toggle.addEventListener("click",function(e){l.toggle__module(e)}),i.module&&i.toggle.addEventListener("click",function(e){i.toggle__module(e)});var a=document.querySelectorAll(".tab"),c=document.querySelectorAll(".product__collapse");function r(e){var t=e.scrollHeight;e.style.height=t+"px",e.addEventListener("transitionend",function(t){e.removeEventListener("transitionend",arguments.callee),e.style.height=null}),e.setAttribute("data-collapsed","false"),e.classList.add("open")}function u(e){e.preventDefault();var t,o,n,l=this.getAttribute("data-target"),i=document.querySelector("#"+l);"true"===i.getAttribute("data-collapsed")?(this.classList.add("open"),window.matchMedia("(min-width: 1300px)").matches?function(e,t){for(var o=0;o<c.length;o++)c[o]!==e&&(c[o].classList.remove("open"),c[o].setAttribute("data-collapsed","true"));for(o=0;o<a.length;o++)a[o]!==t&&a[o].classList.remove("open");e.classList.add("open")}(i,this):r(i),i.setAttribute("data-collapsed","false")):window.matchMedia("(min-width: 1300px)").matches?console.log("do nothing"):(this.classList.remove("open"),o=(t=i).scrollHeight,n=t.style.transition,t.style.transition="",requestAnimationFrame(function(){t.style.height=o+"px",t.style.transition=n,requestAnimationFrame(function(){t.style.height="0px"})}),t.setAttribute("data-collapsed","true"),t.classList.remove("open"),i.setAttribute("data-collapsed","true"))}if(a.length)for(var m=0;m<a.length;m++)a[m].addEventListener("click",u);if(a.length&&window.matchMedia("(min-width: 1300px)").matches){var p=document.querySelector(".tab--yellow"),g=document.querySelector("#yellow");p.classList.add("open"),r(g)}var h={toggle:document.querySelector(".popup__toggle--suhlas"),popup:document.querySelector("#suhlas"),close:document.querySelector("#suhlas .popup__close"),btn:document.querySelector("#suhlas .popup__btn")};function f(e){e.popup.classList.add("hidden"),o.classList.add("hidden")}h.popup&&(h.toggle.addEventListener("click",function(e){e.preventDefault(),h.popup.classList.remove("hidden"),o.classList.remove("hidden")}),h.close.addEventListener("click",function(e){e.preventDefault(),f(h)}),h.btn.addEventListener("click",function(e){e.preventDefault(),f(h)}))}();
