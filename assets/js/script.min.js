window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),function(){var e=document.querySelector(".header"),t=1;e&&window.addEventListener("scroll",function(o){(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)>t?e.classList.add("scrolled"):e.classList.remove("scrolled")});var o=document.querySelector(".overlay"),a=document.querySelector(".close__cart"),d={toggle:document.querySelector(".header__icon--menu"),module:document.querySelector(".menu"),toggle__module:function(e){e.preventDefault(),n.module&&s(n),g.popup&&v(g),"true"===this.module.getAttribute("data-toggle")?i(this):s(this)}},n={toggle:document.querySelector(".header__icon--cart"),module:document.querySelector(".cart"),toggle__module:function(e){e.preventDefault(),d.module&&s(d),g.popup&&v(g),"true"===this.module.getAttribute("data-toggle")?i(this):s(this)}};function s(e){e.toggle.classList.remove("open"),e.module.classList.add("hidden"),e.module.setAttribute("data-toggle","true"),o.classList.add("hidden")}function i(e){e.toggle.classList.add("open"),e.module.classList.remove("hidden"),e.module.setAttribute("data-toggle","false"),o.classList.remove("hidden")}o.addEventListener("click",function(e){s(d),s(n)}),a&&a.addEventListener("click",function(e){e.preventDefault(),s(n)}),d.module&&d.toggle.addEventListener("click",function(e){d.toggle__module(e)}),n.module&&n.toggle.addEventListener("click",function(e){n.toggle__module(e)});var l=document.querySelectorAll(".tab"),r=document.querySelectorAll(".product__collapse");function c(e){var t=e.scrollHeight;e.style.height=t+"px",e.addEventListener("transitionend",function(t){e.removeEventListener("transitionend",arguments.callee),e.style.height=null}),e.setAttribute("data-collapsed","false"),e.classList.add("open")}function u(e){e.preventDefault();var t,o,a,d=this.getAttribute("data-target"),n=document.querySelector("#"+d);"true"===n.getAttribute("data-collapsed")?(this.classList.add("open"),window.matchMedia("(min-width: 1300px)").matches?function(e,t){for(var o=0;o<r.length;o++)r[o]!==e&&(r[o].classList.remove("open"),r[o].setAttribute("data-collapsed","true"));for(o=0;o<l.length;o++)l[o]!==t&&l[o].classList.remove("open");e.classList.add("open")}(n,this):c(n),n.setAttribute("data-collapsed","false")):window.matchMedia("(min-width: 1300px)").matches?console.log("do nothing"):(this.classList.remove("open"),o=(t=n).scrollHeight,a=t.style.transition,t.style.transition="",requestAnimationFrame(function(){t.style.height=o+"px",t.style.transition=a,requestAnimationFrame(function(){t.style.height="0px"})}),t.setAttribute("data-collapsed","true"),t.classList.remove("open"),n.setAttribute("data-collapsed","true"))}if(l.length)for(var p=0;p<l.length;p++)l[p].addEventListener("click",u);if(l.length&&window.matchMedia("(min-width: 1300px)").matches){var m=document.querySelector(".tab--yellow"),h=document.querySelector("#yellow");m.classList.add("open"),c(h)}var g={toggle:document.querySelector(".popup__toggle--suhlas"),popup:document.querySelector("#suhlas"),close:document.querySelector("#suhlas .popup__close"),btn:document.querySelector("#suhlas .popup__btn")};function v(e){e.popup.classList.add("hidden"),o.classList.add("hidden")}g.popup&&(g.toggle.addEventListener("click",function(e){e.preventDefault(),g.popup.classList.remove("hidden"),o.classList.remove("hidden")}),g.close.addEventListener("click",function(e){e.preventDefault(),v(g)}),g.btn.addEventListener("click",function(e){e.preventDefault(),v(g)}));var f=document.querySelectorAll(".js__btn--add");function _(e){var t=e.getAttribute("data-cartheading"),o=e.getAttribute("data-cartlevel"),a=e.getAttribute("data-cartprice"),d='<span class="cartproduct__heading medium">'+t+'</span><span class="cartproduct__level cartproduct__level--'+e.getAttribute("data-color")+' small bold">'+o+'</span><a href="#" class="cartproduct__remove"></a><span class="cartproduct__price large bold">'+a+" €</span>",s=document.createElement("div");s.classList.add("cartproduct","trn"),s.innerHTML=d;var i=document.querySelector(".cartproduct__area");i?i.appendChild(s):((i=document.createElement("div")).classList.add("cartproduct__area"),document.querySelector(".cartproduct__wrap").appendChild(i),i.appendChild(s)),function(e){var t=e.getBoundingClientRect(),o=e.scrollWidth,a=e.cloneNode(!0);a.classList.add("fly__to__cart"),a.style.right=document.body.clientWidth-t.right+"px",a.style.top=t.top+"px",a.style.width=o+"px",document.querySelector("body").appendChild(a),setTimeout(function(){document.querySelector("body").removeChild(a)},1e3)}(e),n.toggle.classList.add("header__icon--cart--full"),n.toggle.classList.add("header__icon--cart--shake"),setTimeout(function(){n.toggle.classList.remove("header__icon--cart--shake")},1300)}if(document.addEventListener("click",function(e){if(e.target.classList.contains("cartproduct__remove")){e.preventDefault();var t=e.target.parentNode;(o=t).parentNode.removeChild(o)}var o}),f.length)for(p=0;p<f.length;p++)f[p].addEventListener("click",function(e){e.preventDefault();var t=this.parentNode.parentNode;t.classList.contains("product--added")?t.classList.remove("product--added"):t.classList.add("product--added"),this.classList.contains("btn--added")?(this.classList.remove("btn--added"),this.innerHTML="Pridať do košíka"):(this.classList.add("btn--added"),this.innerHTML="Odstrániť z košíka",_(t))})}();
