window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)});var overlay=document.querySelector(".overlay"),ToggleHeader=function(){var e={},t=1;function o(){e.header&&window.addEventListener("scroll",function(){(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)>t?e.header.classList.add("scrolled"):e.header.classList.remove("scrolled")})}return{init:function(){e.header=document.querySelector(".header"),o()}}}(),ToggleComponent=function(){var e={};function t(t){TogglePopUp.destroy();var n="true"===t.module.getAttribute("data-toggle");e.cart.toggle&&e.cart.module&&o(e.cart),e.menu.toggle&&e.menu.module&&o(e.menu),n&&function(e){e.toggle.classList.add("open"),e.module.classList.remove("hidden"),e.module.setAttribute("data-toggle","false"),overlay.classList.remove("hidden")}(t)}function o(e){e.toggle.classList.remove("open"),e.module.classList.add("hidden"),e.module.setAttribute("data-toggle","true"),overlay.classList.add("hidden")}return{init:function(){e.menu={toggle:document.querySelector(".header__icon--menu"),module:document.querySelector(".menu")},e.cart={toggle:document.querySelector(".header__icon--cart"),module:document.querySelector(".cart")},e.closeCart=document.querySelector(".js--close__cart"),e.overlay=document.querySelector(".overlay"),e.menu.toggle&&e.menu.toggle.addEventListener("click",function(o){o.preventDefault(),t(e.menu)}),e.cart.toggle&&e.cart.toggle.addEventListener("click",function(o){o.preventDefault(),t(e.cart)}),e.overlay&&e.overlay.addEventListener("click",function(t){t.preventDefault(),e.cart.toggle&&e.cart.module&&o(e.cart),e.menu.toggle&&e.menu.module&&o(e.menu)}),e.closeCart&&e.closeCart.addEventListener("click",function(t){t.preventDefault(),o(e.cart)})}}}(),TogglePopUp=function(){var e={};function t(){e.suhlas.toggle&&e.suhlas.toggle.addEventListener("click",function(t){t.preventDefault(),e.suhlas.popup.classList.remove("hidden"),overlay.classList.remove("hidden")}),e.suhlas.close&&e.suhlas.close.addEventListener("click",function(t){t.preventDefault(),o(e.suhlas.popup)}),e.suhlas.btn&&e.suhlas.btn.addEventListener("click",function(t){t.preventDefault(),o(e.suhlas.popup)}),e.overlay&&e.overlay.addEventListener("click",function(t){t.preventDefault(),o(e.suhlas.popup)})}function o(e){e.classList.add("hidden"),overlay.classList.add("hidden")}return{init:function(){e.suhlas={toggle:document.querySelector(".popup__toggle--suhlas"),popup:document.querySelector("#suhlas"),close:document.querySelector("#suhlas .popup__close"),btn:document.querySelector("#suhlas .popup__btn")},e.overlay=document.querySelector(".popup__container"),t()},destroy:function(){e.suhlas.popup&&o(e.suhlas.popup)}}}(),ShowProducts=function(){var e={};function t(t){var n=t.getAttribute("data-target"),c=document.querySelector("#"+n);"true"===c.getAttribute("data-collapsed")?(t.classList.add("open"),window.matchMedia("(min-width: 1300px)").matches?function(t,o){for(var n=0;n<e.sections.length;n++)e.sections[n]!==t&&(e.sections[n].classList.remove("open"),e.sections[n].setAttribute("data-collapsed","true"));for(var n=0;n<e.tabs.length;n++)e.tabs[n]!==o&&e.tabs[n].classList.remove("open");t.classList.add("open")}(c,t):o(c)):window.matchMedia("(min-width: 1300px)").matches||(t.classList.remove("open"),function(e){var t=e.scrollHeight,o=e.style.transition;e.style.transition="",requestAnimationFrame(function(){e.style.height=t+"px",e.style.transition=o,requestAnimationFrame(function(){e.style.height="0px"})}),e.setAttribute("data-collapsed","true"),e.classList.remove("open")}(c),c.setAttribute("data-collapsed","true"))}function o(e){var t=e.scrollHeight;e.style.height=t+"px",e.addEventListener("transitionend",function(t){e.removeEventListener("transitionend",arguments.callee),e.style.height=null}),e.setAttribute("data-collapsed","false"),e.classList.add("open")}return{init:function(){e.tabs=document.querySelectorAll(".tab"),e.sections=document.querySelectorAll(".product__collapse"),function(){if(e.tabs.length){for(var n=0;n<e.tabs.length;n++)e.tabs[n].addEventListener("click",function(e){e.preventDefault(),t(this)});if(window.matchMedia("(min-width: 1300px)").matches){var c=document.querySelector(".tab--yellow"),r=document.querySelector("#yellow");c.classList.add("open"),o(r)}}}()}}}(),AddProductToCart=function(){var e={};function t(t){t.classList.contains("product--added")?t.classList.remove("product--added"):(t.classList.add("product--added"),function(t){var o={heading:t.getAttribute("data-cartheading"),level:t.getAttribute("data-cartlevel"),price:t.getAttribute("data-cartprice"),color:t.getAttribute("data-color")},n='<span class="cartproduct__heading medium">'+o.heading+'</span><span class="cartproduct__level cartproduct__level--'+o.color+' small bold">'+o.level+'</span><a href="#" class="cartproduct__remove js--remove__cartproduct"></a><span class="cartproduct__price large bold">'+o.price+" €</span>",c=document.createElement("div");c.classList.add("cartproduct","trn"),c.innerHTML=n,e.cartProductArea?e.cartProductArea.appendChild(c):(e.cartProductArea=document.createElement("div"),e.cartProductArea.classList.add("cartproduct__area"),document.querySelector(".cartproduct__wrap").appendChild(e.cartProductArea),e.cartProductArea.appendChild(c))}(t))}function o(e){var t=e.getBoundingClientRect(),o=e.scrollWidth,n=e.cloneNode(!0);n.classList.add("fly__to__cart"),n.style.right=document.body.clientWidth-t.right+"px",n.style.top=t.top+"px",n.style.width=o+"px",document.querySelector("body").appendChild(n),setTimeout(function(){document.querySelector("body").removeChild(n)},1e3)}function n(){e.cartProductArea.querySelector(".cartproduct")?(e.cartToggle&&e.cartToggle.classList.add("header__icon--cart--full"),e.continueButton&&e.continueButton.classList.remove("btn--disabled")):(e.cartToggle&&e.cartToggle.classList.remove("header__icon--cart--full"),e.continueButton&&e.continueButton.classList.add("btn--disabled"))}function c(){e.cartToggle.classList.add("header__icon--cart--wiggle"),setTimeout(function(){e.cartToggle.classList.remove("header__icon--cart--wiggle")},300)}return{init:function(){e.buttons=document.querySelectorAll(".js__btn--add"),e.cartProductArea=document.querySelector(".cartproduct__area"),e.cartToggle=document.querySelector(".js--cart__toggle"),e.continueButton=document.querySelector(".js--continue--btn"),function(){if(e.buttons.length)for(var r=0;r<e.buttons.length;r++)e.buttons[r].addEventListener("click",function(r){r.preventDefault();var a=this.parentNode.parentNode;this.classList.contains("btn--added")?(this.classList.remove("btn--added"),this.innerHTML="Pridať do košíka",e.cartToggle&&c()):(this.classList.add("btn--added"),this.innerHTML="Odstrániť z košíka",o(a),e.cartToggle&&(e.cartToggle.classList.add("header__icon--cart--shake"),setTimeout(function(){e.cartToggle.classList.remove("header__icon--cart--shake")},1300))),t(a),n()});document.addEventListener("click",function(t){t.target.classList.contains("js--remove__cartproduct")&&(t.preventDefault(),function(e){e.parentNode.removeChild(e)}(t.target.parentNode),n(),e.cartToggle&&c())}),e.continueButton&&e.continueButton.addEventListener("click",function(t){e.continueButton.classList.contains("btn--disabled")&&t.preventDefault()})}()}}}(),ShowHiddenFormBlocks=function(){var e={};function t(){e.checkBox&&e.checkBox.addEventListener("change",function(t){1==this.checked?function(){for(var t=0;t<e.hiddenFormBlocks.length;t++)e.hiddenFormBlocks[t].classList.add("form__block--hidden")}():function(){for(var t=0;t<e.hiddenFormBlocks.length;t++)e.hiddenFormBlocks[t].classList.remove("form__block--hidden")}()})}return{init:function(){e.hiddenFormBlocks=document.querySelectorAll(".form__block--hidden"),e.checkBox=document.querySelector("#fu"),t()}}}();ToggleHeader.init(),ToggleComponent.init(),TogglePopUp.init(),ShowProducts.init(),AddProductToCart.init(),ShowHiddenFormBlocks.init();
